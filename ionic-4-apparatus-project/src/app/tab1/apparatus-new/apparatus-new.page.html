<ion-header>
   <ion-toolbar color="primary">
      <ion-title>apparatus-new</ion-title>
   </ion-toolbar>
</ion-header>
<ion-content padding>
   <form [formGroup]="form" (ngSubmit)="manage(form.value)">
      <ion-list margin-bottom>
         <ion-item margin-bottom no-lines>
            <ion-label floating>Appareil :</ion-label>
            <ion-input type="text" maxlength="40" formControlName="name"></ion-input>
            <span>Svp enregistrer le nom de l'appareil (40 mots max)</span>
         </ion-item>
         <div formArrayName="descriptions" margin-bottom>
            <section [formGroupName]="i" *ngFor="let tech of form.controls.descriptions.controls; let i = index">
               <ion-item-group>
                  <ion-item-divider color="light">Description #{{ i + 1 }}</ion-item-divider>
                  <ion-item>
                     <ion-label floating>Ajouter :</ion-label>
                     <ion-input type="text" maxlength="50" formControlName="name"></ion-input>
                  </ion-item>
                  <span float-right ion-button icon-left clear *ngIf="form.controls.descriptions.length > 1"
                     (click)="removeInputField(i)">
                     <ion-icon name="close"></ion-icon>
                     Supprimer
                  </span>
               </ion-item-group>
            </section>
         </div>
         <span ion-button float-left icon-left clear (click)="addNewInputField()">
            <ion-icon name="add"></ion-icon>
            Ajouter une description
         </span>
      </ion-list>
      <button ion-button block margin-top color="primary" text-center [disabled]="!form.valid">Envoyer</button>
   </form>
   <ion-button full (click)="dismissModal()" color="danger">Annuler</ion-button>
</ion-content>